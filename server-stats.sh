#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞
# –ê–≤—Ç–æ—Ä: [–í–∞—à–µ –∏–º—è]
# –í–µ—Ä—Å–∏—è: 1.0

echo "========================================"
echo " –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò –°–ï–†–í–ï–†–ê "
echo "========================================"
echo

# --- –û–°–ù–û–í–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø ---
echo "üñ•Ô∏è  –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:"
echo "–û–°: $(lsb_release -d 2>/dev/null | cut -f2 || cat /etc/os-release | grep PRETTY_NAME | cut -d= -f2 | tr -d '\"')"
echo "–ò–º—è —Ö–æ—Å—Ç–∞: $(hostname)"
echo "–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: $(uptime -p)"
echo "–¢–µ–∫—É—â–∞—è –¥–∞—Ç–∞: $(date)"
echo

# --- –ó–ê–ì–†–£–ó–ö–ê –¶–ü ---
echo "‚öôÔ∏è  –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞:"
top -bn1 | grep "Cpu(s)" | awk '{print "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: " $2 + $4 "%, –°–≤–æ–±–æ–¥–Ω–æ: " $8 "%"}'
echo "–°—Ä–µ–¥–Ω—è—è –∑–∞–≥—Ä—É–∑–∫–∞ (load average): $(uptime | awk -F'load average:' '{print $2}')"
echo

# --- –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï –ü–ê–ú–Ø–¢–ò ---
echo "üíæ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏:"
free -h | awk 'NR==2{printf "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: %s / %s (%.2f%%)\n", $3, $2, $3*100/$2}'
echo

# --- –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï –î–ò–°–ö–ê ---
echo "üìÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–æ–≤:"
df -h --total | awk '/total/{printf "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: %s / %s (%s)\n", $3, $2, $5}'
echo

# --- –¢–û–ü-5 –ü–†–û–¶–ï–°–°–û–í –ü–û CPU ---
echo "üî• –¢–æ–ø-5 –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø–æ –∑–∞–≥—Ä—É–∑–∫–µ CPU:"
ps -eo pid,comm,%cpu --sort=-%cpu | head -n 6 | awk 'NR==1{print "PID\t–ö–æ–º–∞–Ω–¥–∞\tCPU%"} NR>1{print $1"\t"$2"\t"$3}'
echo

# --- –¢–û–ü-5 –ü–†–û–¶–ï–°–°–û–í –ü–û –ü–ê–ú–Ø–¢–ò ---
echo "üß† –¢–æ–ø-5 –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø–∞–º—è—Ç–∏:"
ps -eo pid,comm,%mem --sort=-%mem | head -n 6 | awk 'NR==1{print "PID\t–ö–æ–º–∞–Ω–¥–∞\tMEM%"} NR>1{print $1"\t"$2"\t"$3}'
echo

# --- (–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ) –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –Ω–µ—É–¥–∞—á–Ω—ã–µ –≤—Ö–æ–¥—ã ---
echo "üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤ —Å–∏—Å—Ç–µ–º–µ:"
who | awk '{print $1}' | sort | uniq
echo

if command -v lastb &>/dev/null; then
  echo "üö´ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞:"
  lastb | grep -c '^[a-zA-Z]'
else
  echo "üö´ –ö–æ–º–∞–Ω–¥–∞ lastb –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ ‚Äî –ø—Ä–æ–ø—É—â–µ–Ω–æ."
fi
echo

echo "========================================"
echo " –ö–æ–Ω–µ—Ü –æ—Ç—á—ë—Ç–∞ "
echo "========================================"
